#!/usr/bin/env bash
# Task: Build for Linux x86_64
set -euo pipefail

echo "Building ROLLER for Linux x86_64..."

# Clean any previous builds
rm -rf zig-out

# Fetch dependencies if needed
echo "ğŸ“¦ Fetching dependencies..."
zig build --fetch

# Build with Zig for Linux target
echo "ğŸ”¨ Building for x86_64-linux-gnu..."
zig build \
    -Dtarget=x86_64-linux-gnu \
    -Doptimize=ReleaseFast \
    --summary all

echo "âœ… Linux x86_64 build completed successfully"
echo "ğŸ“ Binary location: zig-out/bin/ROLLER"